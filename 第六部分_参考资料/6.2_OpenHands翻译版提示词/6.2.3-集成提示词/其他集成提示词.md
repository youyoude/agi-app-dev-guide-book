# 其他集成提示词

## 📎 来源文件

**原始文件位置**：
- `openhands/integrations/templates/resolver/linear/linear_new_conversation.j2`
- `openhands/integrations/templates/resolver/linear/linear_existing_conversation.j2`
- `openhands/integrations/templates/resolver/linear/linear_instructions.j2`
- `openhands/integrations/templates/resolver/bitbucket/issue_prompt.j2`
- `openhands/integrations/templates/resolver/bitbucket/issue_conversation_instructions.j2`
- `openhands/integrations/templates/resolver/bitbucket/pr_update_prompt.j2`
- `openhands/integrations/templates/resolver/bitbucket/pr_update_conversation_instructions.j2`
- `openhands/integrations/templates/resolver/slack/user_message_conversation_instructions.j2`
- `openhands/integrations/templates/suggested_task/open_issue_prompt.j2`
- `openhands/integrations/templates/suggested_task/failing_checks_prompt.j2`
- `openhands/integrations/templates/suggested_task/merge_conflict_prompt.j2`
- `openhands/integrations/templates/suggested_task/unresolved_comments_prompt.j2`

---

## Linear集成

### Linear新对话提示词
你正在处理Linear issue："{{ issue_title }}"。

**Issue ID**：{{ issue_id }}
**团队**：{{ team_name }}

#### Issue描述
{{ issue_description }}

#### 操作步骤
1. 使用Linear API获取issue详细信息
2. 理解需求和验收标准
3. 在代码仓库中实施解决方案
4. 更新Linear issue状态

### Linear现有对话提示词
继续处理Linear issue："{{ issue_title }}"（{{ issue_id }}）。

**最新更新**：{{ latest_update }}

根据之前的讨论和最新的评论继续工作。

---

## Bitbucket集成

### Bitbucket Issue提示词
你正在处理Bitbucket仓库{{ repo }}中的issue："{{ issue_title }}"。

#### 操作步骤
1. 使用Bitbucket API检索issue详细信息
2. 创建功能分支
3. 实施修复
4. 推送更改
5. 创建Pull Request
6. 在PR中引用issue

### Bitbucket PR更新提示词
你已检出到分支{{ branch_name }}，该分支有一个打开的PR #{{ pr_number }}。

**处理PR评论：**
- 如果是问题：回答但不留评论
- 如果是代码请求：修改代码、提交、推送，但不留评论

---

## Slack集成

### Slack用户消息对话指令
你正在通过Slack与用户交互。

#### 对话上下文
**频道**：{{ channel_name }}
**用户**：@{{ user_name }}

#### 用户消息
{{ user_message }}

#### 响应指南
1. 理解用户请求的上下文
2. 提供清晰、简洁的回复
3. 如果需要执行操作，在代码仓库中完成
4. 在Slack中总结完成的工作
5. 使用适当的格式（代码块、列表等）

#### 注意事项
- 保持专业和友好的语气
- 如果不确定，请求澄清
- 提供进度更新
- 完成后明确告知用户

---

## 建议任务集成

### 打开Issue提示词
系统检测到一个打开的issue需要处理。

**Issue**：{{ issue_title }}
**优先级**：{{ priority }}

这是一个建议的任务。如果你认为应该处理它，请开始工作。

### 失败检查提示词
检测到失败的检查需要修复。

**检查名称**：{{ check_name }}
**失败原因**：{{ failure_reason }}

请调查并修复导致检查失败的问题。

### 合并冲突提示词
检测到需要解决的合并冲突。

**分支**：{{ branch_name }}
**冲突文件**：
{% for file in conflict_files %}
- {{ file }}
{% endfor %}

请解决这些冲突并推送更改。

### 未解决评论提示词
PR中有未解决的评论。

**PR**：#{{ pr_number }}
**未解决评论数**：{{ unresolved_count }}

请查看并解决这些评论。

---

## 通用集成原则

### API优先
- 始终优先使用API而不是Web界面
- 正确处理认证和授权
- 遵守API速率限制

### 错误处理
- 优雅地处理API错误
- 提供有意义的错误消息
- 在必要时重试操作

### 安全性
- 安全地处理凭据和令牌
- 不要在日志或评论中暴露敏感信息
- 遵循最小权限原则

### 可追溯性
- 在提交消息中引用issue
- 在PR描述中链接相关issue
- 更新issue状态以反映进度

