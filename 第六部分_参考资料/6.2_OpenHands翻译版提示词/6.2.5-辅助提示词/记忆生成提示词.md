# 记忆生成提示词

## 📎 来源文件

**原始文件位置**：
- `openhands/microagent/prompts/generate_remember_prompt.j2`

**用途**：
用于Agent的记忆和学习系统，生成更新特殊参考文件的提示词。

---

## 任务概述
你的任务是生成一个提示词，该提示词将被另一个AI用于更新特殊参考文件。这个文件包含用于执行某些任务的重要信息和学习内容。该文件可以随时间扩展以纳入新知识和经验。

## 输入信息
你将获得一组可能需要更新特殊文件的新事件。这些事件是：

```
<events>
{{ events }}
</events>
```

## 任务详情
你的任务是分析这些事件并确定应该对特殊文件进行哪些更新（如果有）。然后，你需要生成一个提示词，该提示词将指导另一个AI正确有效地进行这些更新。

## 提示词生成指南

### 1. 明确指定更新内容
- 清楚说明文件的哪些部分需要更新
- 或者说明是否应该添加新部分

### 2. 提供更新理由
基于新事件提供更新必要性的上下文

### 3. 具体说明信息
- 明确应该添加或修改的信息
- 提供具体的细节和示例

### 4. 维护现有结构
- 保持现有的结构和格式
- 确保更新与文件的整体组织一致

### 5. 确保一致性
- 确保更新与当前内容一致
- 不要与现有信息矛盾

## 输出格式
现在，基于提供的新事件，生成一个提示词，该提示词将指导AI对特殊文件进行适当的更新。你的提示词应该清晰、具体和可操作。将你的提示词包含在`<update_prompt>`标签内。

```
<update_prompt>
[在这里生成你的提示词]
</update_prompt>
```

## 提示词结构建议

### 基本结构
```
<update_prompt>
## 更新目标
[简要说明更新的目的]

## 要更新的部分
[列出需要更新的具体部分或新增的部分]

## 更新内容
[详细说明要添加或修改的信息]

## 保持一致性
[说明如何确保与现有内容一致]

## 验证检查
[列出更新后应验证的关键点]
</update_prompt>
```

## 示例场景

### 场景1：新的最佳实践
```
事件：发现在处理大文件时使用流式处理可以显著提高性能
```

生成的提示词：
```
<update_prompt>
## 更新目标
在性能优化部分添加关于大文件处理的最佳实践。

## 要更新的部分
- 性能优化章节
- 大文件处理子部分（如果不存在则创建）

## 更新内容
添加以下信息：
- 使用流式处理处理大文件
- 避免一次性加载整个文件到内存
- 提供代码示例展示流式读取

## 保持一致性
- 确保与现有的性能优化指南风格一致
- 使用与文件其他部分相同的格式和术语

## 验证检查
- 新内容不与现有的文件处理指南冲突
- 代码示例是完整且可运行的
- 建议适用于文档中提到的所有支持的语言
</update_prompt>
```

### 场景2：错误修正
```
事件：发现之前推荐的API端点已被弃用，应使用新的端点
```

生成的提示词：
```
<update_prompt>
## 更新目标
更新API集成部分，将弃用的端点替换为新端点。

## 要更新的部分
- API集成章节
- 所有引用旧端点的示例代码
- 相关的最佳实践说明

## 更新内容
1. 将所有对旧端点的引用替换为新端点
2. 添加迁移说明（如果两者之间有差异）
3. 更新代码示例以反映新的API用法
4. 如果适用，添加弃用通知

## 保持一致性
- 确保所有代码示例都已更新
- 验证没有遗漏的旧端点引用
- 保持API文档的完整性

## 验证检查
- 所有API示例都使用新端点
- 迁移指南清晰易懂
- 没有破坏现有的工作流程说明
</update_prompt>
```

## 最佳实践

### 清晰性
- 使用清晰、明确的语言
- 避免模糊或含糊的指令
- 提供具体的例子

### 完整性
- 涵盖所有需要更新的方面
- 考虑更新的连锁效应
- 不要遗漏相关的部分

### 可操作性
- 提供可以直接执行的指令
- 包括必要的细节和上下文
- 指定验证标准

### 一致性
- 确保更新符合现有风格
- 维护文档的整体结构
- 保持术语和格式的一致性

## 注意事项

### 分析事件时
- 仔细评估事件的重要性
- 确定是否确实需要更新
- 考虑对现有内容的影响

### 生成提示词时
- 提供足够的上下文
- 明确更新的优先级
- 考虑执行更新的AI的视角

### 验证更新时
- 确保逻辑连贯
- 检查是否有矛盾
- 验证完整性和准确性

