# OpenHands æç¤ºè¯åˆ†ç±»è¯´æ˜

## å¿«é€Ÿå¯¼èˆª

### ğŸ¤– æƒ³äº†è§£æ™ºèƒ½ä½“çš„æ ¸å¿ƒè¡Œä¸ºï¼Ÿ
â†’ æŸ¥çœ‹ **1-Agents** æ–‡ä»¶å¤¹

### ğŸ”— æƒ³äº†è§£å¦‚ä½•ä¸ GitHub/GitLab ç­‰å¹³å°é›†æˆï¼Ÿ
â†’ æŸ¥çœ‹ **2-Integrations** æ–‡ä»¶å¤¹

### ğŸ”§ æƒ³äº†è§£å¦‚ä½•è‡ªåŠ¨è§£å†³ä»£ç é—®é¢˜ï¼Ÿ
â†’ æŸ¥çœ‹ **3-Resolver** æ–‡ä»¶å¤¹

### ğŸ“Š æƒ³äº†è§£å¦‚ä½•è¯„ä¼°ç³»ç»Ÿæ€§èƒ½ï¼Ÿ
â†’ æŸ¥çœ‹ **4-Benchmarks** æ–‡ä»¶å¤¹

### âš™ï¸ æƒ³äº†è§£å„ç§ä¸“é—¨ç”¨é€”çš„å¾®ä»£ç†ï¼Ÿ
â†’ æŸ¥çœ‹ **5-Microagents** æ–‡ä»¶å¤¹

### ğŸ¢ æƒ³äº†è§£ä¼ä¸šç‰ˆåŠŸèƒ½ï¼Ÿ
â†’ æŸ¥çœ‹ **6-Enterprise** æ–‡ä»¶å¤¹

---

## è¯¦ç»†åˆ†ç±»

### 1ï¸âƒ£ Agents - æ™ºèƒ½ä½“æ ¸å¿ƒæç¤ºè¯

#### CodeAct Agentï¼ˆä»£ç æ‰§è¡Œæ™ºèƒ½ä½“ï¼‰
æœ€å¼ºå¤§çš„æ™ºèƒ½ä½“ï¼Œå¯ä»¥æ‰§è¡Œå‘½ä»¤ã€ä¿®æ”¹ä»£ç ã€è§£å†³æŠ€æœ¯é—®é¢˜ã€‚

**æ ¸å¿ƒæç¤ºè¯**ï¼š
- `system_prompt.j2` - åŸºç¡€ç³»ç»Ÿæç¤ºè¯ï¼ˆ114è¡Œï¼‰
  - å®šä¹‰è§’è‰²å’Œèƒ½åŠ›
  - æ•ˆç‡æŒ‡å—ï¼ˆåˆå¹¶æ“ä½œã€å‡å°‘é‡å¤ï¼‰
  - æ–‡ä»¶ç³»ç»Ÿæ“ä½œè§„èŒƒ
  - ä»£ç è´¨é‡æ ‡å‡†
  - ç‰ˆæœ¬æ§åˆ¶æœ€ä½³å®è·µ
  - é—®é¢˜è§£å†³å·¥ä½œæµ
  - å®‰å…¨æ€§æŒ‡å—

**å˜ä½“æç¤ºè¯**ï¼š
- `system_prompt_interactive.j2` - äº¤äº’æ¨¡å¼ï¼ˆ14è¡Œï¼‰
  - å¢åŠ ç”¨æˆ·äº¤äº’è§„åˆ™
  - æ¾„æ¸…éœ€æ±‚çš„ç­–ç•¥

- `system_prompt_long_horizon.j2` - é•¿æœŸä»»åŠ¡æ¨¡å¼ï¼ˆ46è¡Œï¼‰
  - ä»»åŠ¡è¿½è¸ªå·¥å…·ä½¿ç”¨æŒ‡å—
  - ä»»åŠ¡ç®¡ç†æœ€ä½³å®è·µ
  - ä»»åŠ¡æŒä¹…åŒ–ç­–ç•¥

- `system_prompt_tech_philosophy.j2` - æŠ€æœ¯å“²å­¦æ¨¡å¼ï¼ˆ122è¡Œï¼‰
  - é‡‡ç”¨ Linus Torvalds çš„å·¥ç¨‹æ€ç»´
  - å¼ºè°ƒæ•°æ®ç»“æ„ä¼˜å…ˆ
  - æ¶ˆé™¤ç‰¹æ®Šæƒ…å†µ
  - å‘åå…¼å®¹æ€§åŸåˆ™
  - å®ç”¨ä¸»ä¹‰å“²å­¦

**è¾…åŠ©æ¨¡æ¿**ï¼š
- `security_risk_assessment.j2` - å®‰å…¨é£é™©è¯„ä¼°ï¼ˆLOW/MEDIUM/HIGHï¼‰
- `in_context_learning_example.j2` - ç¤ºä¾‹å­¦ä¹ ï¼ˆFlask åº”ç”¨ç¤ºä¾‹ï¼‰
- `additional_info.j2` - è¿è¡Œæ—¶ä¿¡æ¯æ³¨å…¥
- `microagent_info.j2` - å¾®ä»£ç†ä¿¡æ¯æ³¨å…¥

#### ReadOnly Agentï¼ˆåªè¯»æ™ºèƒ½ä½“ï¼‰
ä¸“æ³¨äºä»£ç åˆ†æå’Œæ¢ç´¢ï¼Œä¸èƒ½ä¿®æ”¹æ–‡ä»¶ã€‚

**æ ¸å¿ƒæç¤ºè¯**ï¼š
- `system_prompt.j2` - åªè¯»æ¨¡å¼ç³»ç»Ÿæç¤ºè¯ï¼ˆ34è¡Œï¼‰
  - æ˜ç¡®åªè¯»èƒ½åŠ›èŒƒå›´
  - ä»£ç åˆ†ææŒ‡å—
  - é™åˆ¶è¯´æ˜

**è¾…åŠ©æ¨¡æ¿**ï¼š
- `in_context_learning_example.j2` - åªè¯»æ¨¡å¼ç¤ºä¾‹ï¼ˆTypeScript æ–‡ä»¶æŸ¥æ‰¾ï¼‰
- `additional_info.j2` - è¿è¡Œæ—¶ä¿¡æ¯
- `microagent_info.j2` - å¾®ä»£ç†ä¿¡æ¯

---

### 2ï¸âƒ£ Integrations - é›†æˆæœåŠ¡æç¤ºè¯

å„ç§ä»£ç æ‰˜ç®¡å¹³å°å’Œé¡¹ç›®ç®¡ç†å·¥å…·çš„é›†æˆæç¤ºè¯ã€‚

#### GitHub é›†æˆ
- `issue_prompt.j2` - å¤„ç† GitHub Issue çš„æç¤ºè¯
- `issue_conversation_instructions.j2` - Issue å¯¹è¯è§„åˆ™
- `pr_update_prompt.j2` - æ›´æ–° Pull Request çš„æç¤ºè¯
- `pr_update_conversation_instructions.j2` - PR æ›´æ–°å¯¹è¯è§„åˆ™

#### GitLab é›†æˆ
- `issue_prompt.j2` - å¤„ç† GitLab Issue
- `issue_conversation_instructions.j2` - Issue å¯¹è¯è§„åˆ™
- `mr_update_prompt.j2` - æ›´æ–° Merge Request
- `mr_update_conversation_instructions.j2` - MR æ›´æ–°å¯¹è¯è§„åˆ™

#### Bitbucket é›†æˆ
- `issue_prompt.j2` - å¤„ç† Bitbucket Issue
- `issue_conversation_instructions.j2` - Issue å¯¹è¯è§„åˆ™
- `pr_update_prompt.j2` - æ›´æ–° Pull Request
- `pr_update_conversation_instructions.j2` - PR æ›´æ–°å¯¹è¯è§„åˆ™

#### Jira é›†æˆ
- `jira_instructions.j2` - Jira å¹³å°æ“ä½œæŒ‡ä»¤
- `jira_new_conversation.j2` - æ–°å»º Jira Issue çš„å¯¹è¯æ¨¡æ¿
- `jira_existing_conversation.j2` - å¤„ç†å·²æœ‰ Jira Issue çš„å¯¹è¯æ¨¡æ¿

#### Jira DC (Data Center) é›†æˆ
- `jira_dc_instructions.j2` - Jira DC æ“ä½œæŒ‡ä»¤
- `jira_dc_new_conversation.j2` - æ–°å»ºå¯¹è¯æ¨¡æ¿
- `jira_dc_existing_conversation.j2` - å·²æœ‰å¯¹è¯æ¨¡æ¿

#### Linear é›†æˆ
- `linear_instructions.j2` - Linear é¡¹ç›®ç®¡ç†å·¥å…·æŒ‡ä»¤
- `linear_new_conversation.j2` - æ–°å»º Issue å¯¹è¯æ¨¡æ¿
- `linear_existing_conversation.j2` - å·²æœ‰ Issue å¯¹è¯æ¨¡æ¿

#### Slack é›†æˆ
- `user_message_conversation_instructions.j2` - Slack ç”¨æˆ·æ¶ˆæ¯å¤„ç†æŒ‡ä»¤

#### Suggested Tasksï¼ˆå»ºè®®ä»»åŠ¡ï¼‰
è‡ªåŠ¨è¯†åˆ«å’Œå»ºè®®éœ€è¦å¤„ç†çš„ä»»åŠ¡ï¼š
- `failing_checks_prompt.j2` - CI/CD æ£€æŸ¥å¤±è´¥æ—¶çš„æç¤º
- `merge_conflict_prompt.j2` - åˆå¹¶å†²çªæ—¶çš„æç¤º
- `open_issue_prompt.j2` - æœ‰æœªè§£å†³ Issue æ—¶çš„æç¤º
- `unresolved_comments_prompt.j2` - æœ‰æœªè§£å†³è¯„è®ºæ—¶çš„æç¤º

#### å…¶ä»–
- `summary_prompt.j2` - ç”Ÿæˆæ€»ç»“çš„é€šç”¨æ¨¡æ¿

---

### 3ï¸âƒ£ Resolver - é—®é¢˜è§£å†³å™¨æç¤ºè¯

#### Resolveï¼ˆè§£å†³é—®é¢˜ï¼‰
è‡ªåŠ¨è§£å†³ Issue å’Œ PR é—®é¢˜çš„æç¤ºè¯ï¼š

- `basic.jinja` - åŸºç¡€é—®é¢˜è§£å†³æ¨¡æ¿
- `basic-conversation-instructions.jinja` - åŸºç¡€å¯¹è¯æŒ‡ä»¤
- `basic-with-tests.jinja` - åŒ…å«æµ‹è¯•çš„è§£å†³æ¨¡æ¿
- `basic-with-tests-conversation-instructions.jinja` - æµ‹è¯•ç›¸å…³å¯¹è¯æŒ‡ä»¤
- `basic-followup.jinja` - åç»­è·Ÿè¿›æ¨¡æ¿
- `basic-followup-conversation-instructions.jinja` - è·Ÿè¿›å¯¹è¯æŒ‡ä»¤
- `pr-changes-summary.jinja` - PR å˜æ›´æ€»ç»“æ¨¡æ¿

#### Guess Successï¼ˆæˆåŠŸåˆ¤æ–­ï¼‰
åˆ¤æ–­é—®é¢˜æ˜¯å¦å·²æˆåŠŸè§£å†³ï¼š

- `issue-success-check.jinja` - æ£€æŸ¥ Issue æ˜¯å¦å·²è§£å†³
- `pr-feedback-check.jinja` - æ£€æŸ¥ PR åé¦ˆæ˜¯å¦æ»¡æ„
- `pr-review-check.jinja` - æ£€æŸ¥ PR å®¡æŸ¥çŠ¶æ€
- `pr-thread-check.jinja` - æ£€æŸ¥ PR è®¨è®ºçº¿ç¨‹çŠ¶æ€

---

### 4ï¸âƒ£ Benchmarks - è¯„ä¼°åŸºå‡†æç¤ºè¯

ç”¨äºç³»ç»Ÿæ€§èƒ½è¯„ä¼°å’Œæµ‹è¯•çš„æç¤ºè¯ã€‚

#### SWE-Benchï¼ˆè½¯ä»¶å·¥ç¨‹åŸºå‡†æµ‹è¯•ï¼‰
- `swe_default.j2` - é»˜è®¤ SWE-Bench æµ‹è¯•æç¤ºè¯
- `swe_gpt4.j2` - GPT-4 ä¼˜åŒ–çš„æç¤ºè¯
- `swt.j2` - SWT æµ‹è¯•æç¤ºè¯

#### NoCode-Benchï¼ˆæ— ä»£ç åŸºå‡†æµ‹è¯•ï¼‰
- `nc.j2` - NoCode-Bench æµ‹è¯•æç¤ºè¯

---

### 5ï¸âƒ£ Microagents - å¾®ä»£ç†æŒ‡ä»¤æ–‡æ¡£

24 ä¸ªä¸“é—¨ç”¨é€”çš„å¾®ä»£ç† Markdown æ–‡æ¡£ï¼Œé€šè¿‡å…³é”®è¯è§¦å‘ã€‚

#### å¹³å°é›†æˆç±»
- `github.md` - GitHub æ“ä½œæŒ‡å—
- `gitlab.md` - GitLab æ“ä½œæŒ‡å—
- `bitbucket.md` - Bitbucket æ“ä½œæŒ‡å—

#### å¼€å‘å·¥å…·ç±»
- `docker.md` - Docker å®¹å™¨æ“ä½œæŒ‡å—
- `kubernetes.md` - Kubernetes ç¼–æ’æŒ‡å—
- `npm.md` - NPM åŒ…ç®¡ç†æŒ‡å—
- `ssh.md` - SSH è¿æ¥å’Œæ“ä½œæŒ‡å—
- `pdflatex.md` - PDF LaTeX ç¼–è¯‘æŒ‡å—
- `swift-linux.md` - Swift on Linux å¼€å‘æŒ‡å—

#### ä»£ç è´¨é‡ç±»
- `code-review.md` - ä»£ç å®¡æŸ¥æ ‡å‡†æŒ‡å—
- `codereview-roasted.md` - ä¸¥æ ¼ä»£ç å®¡æŸ¥æŒ‡å—ï¼ˆæ›´é«˜æ ‡å‡†ï¼‰
- `fix-py-line-too-long.md` - ä¿®å¤ Python è¡Œè¿‡é•¿é—®é¢˜
- `security.md` - å®‰å…¨æœ€ä½³å®è·µ

#### æµ‹è¯•ç›¸å…³ç±»
- `fix_test.md` - ä¿®å¤æµ‹è¯•é—®é¢˜æŒ‡å—
- `update_test.md` - æ›´æ–°æµ‹è¯•æŒ‡å—

#### PR/Issue ç®¡ç†ç±»
- `address_pr_comments.md` - å¤„ç† PR è¯„è®ºæŒ‡å—
- `update_pr_description.md` - æ›´æ–° PR æè¿°æŒ‡å—

#### çŸ¥è¯†ç®¡ç†ç±»
- `agent_memory.md` - ä»£ç†è®°å¿†ç³»ç»Ÿä½¿ç”¨æŒ‡å—
- `add_agent.md` - æ·»åŠ æ–°ä»£ç†çš„æŒ‡å—
- `add_repo_inst.md` - æ·»åŠ ä»“åº“çº§æŒ‡ä»¤

#### å…¶ä»–
- `default-tools.md` - é»˜è®¤å·¥å…·é›†è¯´æ˜
- `onboarding.md` - æ–°ç”¨æˆ·å…¥é—¨æŒ‡å—
- `flarglebargle.md` - ç¤ºä¾‹å¾®ä»£ç†
- `README.md` - å¾®ä»£ç†ç³»ç»Ÿè¯´æ˜

---

### 6ï¸âƒ£ Enterprise - ä¼ä¸šç‰ˆæç¤ºè¯

ä¼ä¸šç‰ˆä¸“ç”¨åŠŸèƒ½çš„æç¤ºè¯ã€‚

#### Solvabilityï¼ˆå¯è§£å†³æ€§åˆ†æï¼‰
- `summary_system_message.j2` - æ€»ç»“ç³»ç»Ÿæ¶ˆæ¯æ¨¡æ¿
- `summary_user_message.j2` - æ€»ç»“ç”¨æˆ·æ¶ˆæ¯æ¨¡æ¿

---

### 7ï¸âƒ£ Others - å…¶ä»–è¾…åŠ©æç¤ºè¯

#### å¾®ä»£ç†ç”Ÿæˆå™¨
- `generate_remember_prompt.j2` - ç”Ÿæˆè®°å¿†æç¤ºè¯çš„æ¨¡æ¿

#### è¿è¡Œæ—¶æ¨¡æ¿
- `Dockerfile.j2` - Docker è¿è¡Œæ—¶ç¯å¢ƒæ¨¡æ¿

---

## æç¤ºè¯è®¾è®¡æ¨¡å¼

### 1. æ¨¡å—åŒ–è®¾è®¡
è®¸å¤šæç¤ºè¯é€šè¿‡ `{% include %}` å¼•ç”¨å…¶ä»–æ¨¡æ¿ï¼š
```jinja
{% include "system_prompt.j2" %}
<ADDITIONAL_SECTION>
...
</ADDITIONAL_SECTION>
```

### 2. æ¡ä»¶æ¸²æŸ“
æ ¹æ®ä¸Šä¸‹æ–‡åŠ¨æ€æ¸²æŸ“å†…å®¹ï¼š
```jinja
{% if repository_info %}
<REPOSITORY_INFO>
{{ repository_info.repo_name }}
</REPOSITORY_INFO>
{% endif %}
```

### 3. å¾ªç¯æ³¨å…¥
æ‰¹é‡æ³¨å…¥ä¿¡æ¯ï¼š
```jinja
{% for agent_info in triggered_agents %}
<EXTRA_INFO>
{{ agent_info.content }}
</EXTRA_INFO>
{% endfor %}
```

### 4. åˆ†å±‚ç»“æ„
ä½¿ç”¨ XML é£æ ¼çš„æ ‡ç­¾ç»„ç»‡å†…å®¹ï¼š
```xml
<ROLE>è§’è‰²å®šä¹‰</ROLE>
<EFFICIENCY>æ•ˆç‡æŒ‡å—</EFFICIENCY>
<CODE_QUALITY>ä»£ç è´¨é‡</CODE_QUALITY>
```

---

## ä½¿ç”¨åœºæ™¯æ˜ å°„

| ä½ æƒ³åšä»€ä¹ˆ | åº”è¯¥çœ‹å“ªä¸ªæç¤ºè¯ |
|----------|----------------|
| äº†è§£ AI æ™ºèƒ½ä½“çš„åŸºæœ¬è¡Œä¸º | 1-Agents/CodeAct-Agent/system_prompt.j2 |
| äº†è§£å¦‚ä½•ä¸ AI äº¤äº’ | 1-Agents/CodeAct-Agent/system_prompt_interactive.j2 |
| äº†è§£ Linus Torvalds çš„å·¥ç¨‹å“²å­¦ | 1-Agents/CodeAct-Agent/system_prompt_tech_philosophy.j2 |
| åªåˆ†æä»£ç ä¸ä¿®æ”¹ | 1-Agents/ReadOnly-Agent/ |
| GitHub Issue è‡ªåŠ¨å¤„ç† | 2-Integrations/GitHub/issue_prompt.j2 |
| PR è‡ªåŠ¨æ›´æ–° | 2-Integrations/GitHub/pr_update_prompt.j2 |
| è‡ªåŠ¨ä¿®å¤ CI å¤±è´¥ | 2-Integrations/Suggested-Tasks/failing_checks_prompt.j2 |
| è‡ªåŠ¨è§£å†³åˆå¹¶å†²çª | 2-Integrations/Suggested-Tasks/merge_conflict_prompt.j2 |
| è‡ªåŠ¨è§£å†³ Issue | 3-Resolver/Resolve/basic.jinja |
| åˆ¤æ–­é—®é¢˜æ˜¯å¦è§£å†³ | 3-Resolver/Guess-Success/ |
| æ€§èƒ½åŸºå‡†æµ‹è¯• | 4-Benchmarks/ |
| Docker ç›¸å…³æ“ä½œ | 5-Microagents/docker.md |
| ä»£ç å®¡æŸ¥æ ‡å‡† | 5-Microagents/code-review.md |
| å®‰å…¨æœ€ä½³å®è·µ | 5-Microagents/security.md |

---

## æŠ€æœ¯æ ˆè¯´æ˜

### Jinja2 æ¨¡æ¿å¼•æ“
- **å®˜æ–¹æ–‡æ¡£**: https://jinja.palletsprojects.com/
- **è¯­æ³•ç‰¹æ€§**:
  - å˜é‡æ›¿æ¢: `{{ variable }}`
  - æ¡ä»¶åˆ¤æ–­: `{% if condition %} ... {% endif %}`
  - å¾ªç¯: `{% for item in items %} ... {% endfor %}`
  - æ¨¡æ¿ç»§æ‰¿: `{% extends "base.j2" %}`
  - æ¨¡æ¿åŒ…å«: `{% include "other.j2" %}`

### å¾®ä»£ç†è§¦å‘æœºåˆ¶
å¾®ä»£ç†é€šè¿‡å…³é”®è¯åŒ¹é…è§¦å‘ï¼Œä¾‹å¦‚ï¼š
- æåˆ° "docker" â†’ æ³¨å…¥ docker.md
- æåˆ° "github" â†’ æ³¨å…¥ github.md
- æåˆ° "security" â†’ æ³¨å…¥ security.md

---

## ç»Ÿè®¡æ•°æ®

### æ–‡ä»¶æ•°é‡
- **.j2 æ¨¡æ¿**: 52 ä¸ª
- **.jinja æ¨¡æ¿**: 11 ä¸ª
- **.md æ–‡æ¡£**: 24 ä¸ª
- **æ€»è®¡**: 87 ä¸ªæç¤ºè¯æ–‡ä»¶

### å„åˆ†ç±»å æ¯”
1. Agents: 16 ä¸ªæ–‡ä»¶ (18.4%)
2. Integrations: 23 ä¸ªæ–‡ä»¶ (26.4%)
3. Resolver: 11 ä¸ªæ–‡ä»¶ (12.6%)
4. Benchmarks: 4 ä¸ªæ–‡ä»¶ (4.6%)
5. Microagents: 24 ä¸ªæ–‡ä»¶ (27.6%)
6. Enterprise: 2 ä¸ªæ–‡ä»¶ (2.3%)
7. Others: 2 ä¸ªæ–‡ä»¶ (2.3%)
8. æ ¹ç›®å½•æ–‡æ¡£: 2 ä¸ªæ–‡ä»¶ (2.3%)

### ä»£ç è§„æ¨¡ï¼ˆä¼°ç®—ï¼‰
- CodeAct Agent ç³»ç»Ÿæç¤ºè¯: ~114 è¡Œ
- ReadOnly Agent ç³»ç»Ÿæç¤ºè¯: ~34 è¡Œ
- æŠ€æœ¯å“²å­¦æ¨¡å¼: ~122 è¡Œ
- é•¿æœŸä»»åŠ¡æ¨¡å¼: ~46 è¡Œ
- å„ç±»é›†æˆæ¨¡æ¿: å¹³å‡ 50-100 è¡Œ

---

*æœ€åæ›´æ–°: 2025-10-21*
*ç‰ˆæœ¬: åŸºäº OpenHands ä¸»åˆ†æ”¯*

